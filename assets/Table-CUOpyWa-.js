import{r as O,R as jr,j as s,E as fr,c as R,P as yr,I as P,S as kr}from"./index-CYvwjxWG.js";import{u as K,T as Nr,F as Sr,a as vr,b as t,S as wr,N as gr,c as Vr,d as Rr,e as Ir,f as i,g as Fr,P as B}from"./index-wowfQG1N.js";import{u as Tr,F as m,a as f}from"./index-D5Rw-SRL.js";import{R as rr}from"./Row-B7Pag5wZ.js";import{C as W}from"./Col-DASOejDl.js";import{p as Br}from"./people-BRcELYq7.js";import{C as Ar}from"./Container-CbLuQGB_.js";import"./Anchor-COzxH-sf.js";import"./useEventCallback-mBYiO_lq.js";import"./react-lifecycles-compat.es-BNmx4O_T.js";const u={color:"var(--tblr-body-color)",placeholderColor:"var(--tblr-gray-400)",backgroundColor:"var(--tblr-bg-forms)",borderColor:"var(--tblr-border-color)",borderFocusColor:"#90b5e2",borderWidth:"var(--tblr-border-width, 1px)",fontSize:"14px",primaryColor:"var(--tblr-primary)",primaryActiveColor:"rgba(var(--tblr-primary-rgb), .8)",secondaryColor:"#ccc",thirdColor:"#fff",paddingLeft:"0.75rem",paddingY:"0.5625rem",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out"},A={input:e=>({...e,color:u.color,paddingBlock:0,margin:0}),placeholder:e=>({...e,color:u.placeholderColor}),valueContainer:e=>({...e,paddingInlineStart:u.paddingLeft,paddingBlock:u.paddingY}),control:(e,{isFocused:C})=>({...e,color:u.color,backgroundColor:u.backgroundColor,fontSize:u.fontSize,border:C?`${u.borderWidth} solid ${u.borderFocusColor}`:"none","&:hover":{borderColor:`${u.borderColor}`},borderRadius:"none",boxShadow:"none",height:"100%",transition:u.transition}),container:e=>({...e,height:"100%"}),menu:e=>({...e,zIndex:99,fontSize:u.fontSize,color:u.color,backgroundColor:u.backgroundColor,border:`${u.borderWidth} solid ${u.borderColor}`}),menuPortal:e=>({...e,zIndex:9999}),option:(e,{isDisabled:C,isFocused:x,isSelected:b})=>({...e,backgroundColor:C?"":b?u.primaryColor:x?u.primaryActiveColor:void 0,color:C?u.secondaryColor:b||x?u.thirdColor:void 0,cursor:C?"not-allowed":"default",":active":{...e[":active"],backgroundColor:C||b?void 0:u.primaryColor,color:u.thirdColor}}),singleValue:e=>({...e,color:u.color}),multiValue:e=>({...e,backgroundColor:"transparent"}),multiValueLabel:e=>({...e,color:u.thirdColor,backgroundColor:u.primaryColor}),multiValueRemove:e=>({...e,color:u.thirdColor,backgroundColor:u.primaryColor,":hover":{backgroundColor:u.primaryColor}})},$r=({title:e,className:C,head:x,body:b=[],searchable:sr,isAsync:M,asyncSortable:D,emptyMessage:or="Gösterilecek veri bulunmamaktadır.",errorMessage:nr="Bir hata oluştu...",isError:H=!1,loading:Q=!1,pagination:h,sizePerPageList:y=[],inlineEditable:X=!1,hideNoDataIcon:lr,noDataIcon:cr,createIcon:ar,editIcon:er,deleteIcon:_,creatable:I,editable:v,deletable:$,isNotEditable:E,isNotDeletable:z,customFields:g,initialValues:U,children:dr})=>{var Z;const[d,G]=O.useState({key:"",orderBy:""}),[q,ur]=K("search"),[hr,xr]=K("pageSize"),[F,Y]=K("page"),{control:j,handleSubmit:k,reset:p,watch:pr,getValues:w}=Tr(),N=pr("key"),V=M?b:(Z=[...b].filter(r=>Object.values(r).some(n=>{var o;return!jr.isValidElement(n)&&((o=(n==null?void 0:n.label)??(n==null?void 0:n.value)??n)==null?void 0:o.toString().toLocaleLowerCase("TR").includes(q.toLocaleLowerCase("TR")))})))==null?void 0:Z.sort((r,n)=>{var a,l;const o=((a=r[d==null?void 0:d.key])==null?void 0:a.value)??r[d==null?void 0:d.key],c=((l=n[d==null?void 0:d.key])==null?void 0:l.value)??n[d==null?void 0:d.key];switch(d==null?void 0:d.orderBy){case"asc":return o==null?void 0:o.toString().localeCompare(c,void 0,{numeric:!0});case"desc":return c==null?void 0:c.toString().localeCompare(o,void 0,{numeric:!0});default:return 1}}),S=r=>{(r==null?void 0:r.key)===b.length?I==null||I(r):v==null||v(r),p(n=>({...n,key:null}))};//! COMPONENT BUILDER
const J=(r,n)=>{var o;switch(r==null?void 0:r.type){case"ReactSelect":return s.jsx(f.ReactSelect,{name:r==null?void 0:r.key,placeholder:r==null?void 0:r.placeholder,classNameContainer:"position-absolute inset-0",options:r==null?void 0:r.options,onChangeValue:c=>{var l;const a=(l=r==null?void 0:r.onChange)==null?void 0:l.call(r,c,w());r!=null&&r.reset&&p(a),r!=null&&r.submit&&k(S)()},isClearable:!1,baseStyles:A,menuPosition:"fixed",components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null},control:j});case"ReactSelectAsync":return s.jsx(f.ReactSelectAsync,{name:r==null?void 0:r.key,placeholder:r==null?void 0:r.placeholder,classNameContainer:"position-absolute inset-0",options:r==null?void 0:r.options,onChangeValue:c=>{var l;const a=(l=r==null?void 0:r.onChange)==null?void 0:l.call(r,c,w());r!=null&&r.reset&&p(a),r!=null&&r.submit&&k(S)()},isClearable:!1,baseStyles:A,menuPosition:"fixed",components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null},control:j});case"ReactSelectCreatable":return s.jsx(f.ReactSelectCreatable,{name:r==null?void 0:r.key,placeholder:r==null?void 0:r.placeholder,classNameContainer:"position-absolute inset-0",options:r==null?void 0:r.options,onChangeValue:c=>{var l;const a=(l=r==null?void 0:r.onChange)==null?void 0:l.call(r,c,w());r!=null&&r.reset&&p(a),r!=null&&r.submit&&k(S)()},isClearable:!1,baseStyles:A,menuPosition:"fixed",components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null},control:j});case"ReactSelectAsyncCreatable":return s.jsx(f.ReactSelectAsyncCreatable,{name:r==null?void 0:r.key,placeholder:r==null?void 0:r.placeholder,classNameContainer:"position-absolute inset-0",options:r==null?void 0:r.options,onChangeValue:c=>{var l;const a=(l=r==null?void 0:r.onChange)==null?void 0:l.call(r,c,w());r!=null&&r.reset&&p(a),r!=null&&r.submit&&k(S)()},isClearable:!1,baseStyles:A,menuPosition:"fixed",components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null},control:j});case"ReactSelectAsyncUrl":return s.jsx(f.ReactSelectAsyncUrl,{name:r==null?void 0:r.key,placeholder:r==null?void 0:r.placeholder,classNameContainer:"position-absolute inset-0",onChangeValue:c=>{var l;const a=(l=r==null?void 0:r.onChange)==null?void 0:l.call(r,c,w());r!=null&&r.reset&&p(a),r!=null&&r.submit&&k(S)()},optionsUrl:r==null?void 0:r.optionsUrl,optionConfig:r==null?void 0:r.optionConfig,getOptionValues:r==null?void 0:r.getOptionValues,isValidOptionsUrl:r==null?void 0:r.isValidOptionsUrl,isClearable:!1,baseStyles:A,menuPosition:"fixed",components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null},control:j});case"NumericFormat":return s.jsx(f.NumericFormat,{name:r==null?void 0:r.key,placeholder:r==null?void 0:r.placeholder,className:"form-control-plaintext rounded-0 px-3 h-100",classNameContainer:"position-absolute inset-0",prefix:typeof(r==null?void 0:r.prefix)=="function"?(o=r==null?void 0:r.prefix)==null?void 0:o.call(r,n):r==null?void 0:r.prefix,onChangeValue:c=>{var l;const a=(l=r==null?void 0:r.onChange)==null?void 0:l.call(r,c,w());r!=null&&r.reset&&p(a),r!=null&&r.submit&&k(S)()},control:j});case"PatternFormat":return s.jsx(f.PatternFormat,{name:r==null?void 0:r.key,placeholder:r==null?void 0:r.placeholder,className:"form-control-plaintext rounded-0 px-3 h-100",classNameContainer:"position-absolute inset-0",format:r==null?void 0:r.format,onChangeValue:c=>{var l;const a=(l=r==null?void 0:r.onChange)==null?void 0:l.call(r,c,w());r!=null&&r.reset&&p(a),r!=null&&r.submit&&k(S)()},control:j});case"DateTime":return s.jsx(f.DateTime,{name:r==null?void 0:r.key,placeholder:r==null?void 0:r.placeholder,className:"form-control-plaintext rounded-0 px-3 h-100",classNameSubContainer:"h-100",classNameContainer:"position-absolute inset-0",onChangeValue:c=>{var l;const a=(l=r==null?void 0:r.onChange)==null?void 0:l.call(r,c,w());r!=null&&r.reset&&p(a),r!=null&&r.submit&&k(S)()},control:j});case"PhoneInput":return s.jsx(f.PhoneInput,{name:r==null?void 0:r.key,placeholder:r==null?void 0:r.placeholder,classNameSubContainer:"h-100",classNameContainer:"position-absolute inset-0",control:j});default:return s.jsx(f.Control,{type:r==null?void 0:r.type,name:r==null?void 0:r.key,className:"form-control-plaintext rounded-0 px-3 h-100",classNameContainer:"position-absolute inset-0",control:j})}};//! COMPONENT BUILDER END
//! PAGINATION
const br=({currentPage:r,totalPages:n})=>n<7?[...Array(n)].map((o,c)=>c+1):r%5>=0&&r>4&&r+3<n?[1,null,r-1,r,r+1,null,n]:r%5>=0&&r>4&&r+3>=n?[1,null,n-4,n-3,n-2,n-1,n]:[1,2,3,4,5,null,n],Cr=({currentPage:r,totalPages:n})=>{const o=br({currentPage:r,totalPages:n});return o==null?void 0:o.map((c,a)=>c==null?s.jsx(B.Ellipsis,{linkClassName:"bg-transparent border-0",disabled:!0},a):s.jsx(B.Item,{linkClassName:"shadow-none",onClick:()=>c!=r&&Y(c),active:c==r,children:c},a))};//! PAGINATION END
//! DRAGGABLE
//! DRAGGABLE END
//! INITIAL VALUES
O.useEffect(()=>{U!=null&&U.sorting&&G(U.sorting)},[]);//! INITIAL VALUES END
return s.jsxs(s.Fragment,{children:[s.jsxs(rr,{className:"align-items-center justify-content-end mb-3 g-3",children:[dr,e&&s.jsx(W,{className:"text-center text-sm-start",children:s.jsx("h4",{className:"mb-0",children:e})}),sr&&!M&&s.jsx(W,{xs:"12",sm:"6",lg:"3",children:s.jsx(m.Control,{value:q,onChange:r=>ur(r.target.value),type:"search",placeholder:"Arama",className:"shadow-none"})}),I&&s.jsx(W,{xs:"12",sm:"auto",children:s.jsx(fr,{className:"w-100",onClick:()=>p(x.reduce((r,n)=>({...r,[n==null?void 0:n.key]:""}),{key:b.length})),children:"Ekle"})})]}),s.jsx("form",{onSubmit:k(S),children:s.jsxs(Nr,{responsive:!0,id:"dynatable",className:R("text-nowrap",C),children:[s.jsx("thead",{children:s.jsxs("tr",{children:[x==null?void 0:x.map((r,n)=>s.jsx("th",{style:{width:r==null?void 0:r.width},children:s.jsxs("div",{className:R("d-flex align-items-center gap-2 user-select-none",{"justify-content-center":r==null?void 0:r.center}),onClick:()=>{if(r!=null&&r.sortable){const o=r==null?void 0:r.key,c=(d==null?void 0:d.key)===o&&d.orderBy!==""?d.orderBy==="asc"?"desc":"":"asc",a={key:o,orderBy:c};D?D(a)&&G(a):G(a),N>=0&&p(l=>({...l,key:null}))}},children:[r==null?void 0:r.name,(r==null?void 0:r.sortable)&&s.jsx("span",{className:"d-flex",children:(d==null?void 0:d.key)===(r==null?void 0:r.key)?(d==null?void 0:d.orderBy)==="desc"?s.jsx(Sr,{}):(d==null?void 0:d.orderBy)==="asc"?s.jsx(vr,{}):s.jsx(t,{}):s.jsx(t,{})})]})},n)),g==null?void 0:g.map((r,n)=>s.jsx("th",{style:{width:"1%",minWidth:"1%"},children:s.jsx("div",{className:R("d-flex align-items-center gap-2 user-select-none",{"justify-content-center":r==null?void 0:r.center}),children:r==null?void 0:r.header})},n)),v&&s.jsx("th",{style:{width:"1%",minWidth:"1%"}}),($||N!=null)&&s.jsx("th",{style:{width:"1%",minWidth:"1%"}})]})}),s.jsx("tbody",{className:"align-middle position-relative",children:Q?s.jsx("tr",{children:s.jsx("td",{colSpan:"100%",children:s.jsx("div",{className:"d-flex flex-column align-items-center my-5 py-5",children:s.jsx(wr,{animation:"border",variant:"primary"})})})}):H||!Q&&(V==null?void 0:V.length)===0&&N==null?s.jsx("tr",{children:s.jsx("td",{colSpan:"100%",children:s.jsxs("div",{className:"d-flex flex-column align-items-center",children:[s.jsx("div",{className:"w-25",children:!lr&&(cr??s.jsx(gr,{}))}),s.jsx("h3",{className:"page-subtitle text-center",children:H?nr:or})]})})}):s.jsxs(s.Fragment,{children:[V==null?void 0:V.map((r,n)=>s.jsxs("tr",{onDoubleClick:()=>{X&&p({...r,key:n})},children:[x==null?void 0:x.map((o,c)=>{var a,l,T;return s.jsx("td",{className:R({editableTd:v&&N===n,"text-center":o==null?void 0:o.center}),children:v&&N===n&&(o==null?void 0:o.editable)!=!1?J(o,r):((a=o==null?void 0:o.valueGetter)==null?void 0:a.call(o,r))??((l=r==null?void 0:r[o==null?void 0:o.key])==null?void 0:l.label)??((T=r==null?void 0:r[o==null?void 0:o.key])==null?void 0:T.value)??((r==null?void 0:r[o==null?void 0:o.key])||(o==null?void 0:o.placeholder))},c)}),g==null?void 0:g.map((o,c)=>{var a,l,T;return s.jsx("td",{children:!((a=o==null?void 0:o.isHidden)!=null&&a.call(o,r))&&s.jsx("button",{type:"button",className:R("d-inline-flex align-items-center justify-content-center cursor-pointer bg-transparent border-0 w-100 h-100",o==null?void 0:o.className),onClick:()=>{var L;return(L=o==null?void 0:o.onClick)==null?void 0:L.call(o,r)},children:(typeof(o==null?void 0:o.icon)=="function"?(l=o==null?void 0:o.icon)==null?void 0:l.call(o,r):o==null?void 0:o.icon)??(typeof(o==null?void 0:o.text)=="function"?(T=o==null?void 0:o.text)==null?void 0:T.call(o,r):o==null?void 0:o.text)})},c)}),v&&(N===n?s.jsxs(s.Fragment,{children:[s.jsx("td",{children:s.jsx("button",{type:"submit",className:"d-inline-flex align-items-center justify-content-center cursor-pointer bg-transparent border-0 w-100 h-100",children:s.jsx(Vr,{size:"20",className:"text-success"})})}),s.jsx("td",{children:s.jsx("button",{type:"button",className:"d-inline-flex align-items-center justify-content-center cursor-pointer bg-transparent border-0 w-100 h-100",onClick:()=>p(o=>({...o,key:null})),children:s.jsx(Rr,{size:"20",className:"text-danger"})})})]}):s.jsxs(s.Fragment,{children:[!$&&N!=null&&s.jsx("td",{}),s.jsx("td",{children:!(E!=null&&E(r))&&s.jsx("button",{type:"button",className:"d-inline-flex align-items-center justify-content-center cursor-pointer bg-transparent border-0 w-100 h-100",onClick:()=>X?p({...r,key:n}):v(r),children:er??s.jsx(Ir,{size:"20",className:"text-danger"})})})]})),$&&N!==n&&s.jsx("td",{children:!(z!=null&&z(r))&&s.jsx("button",{type:"button",className:"d-inline-flex align-items-center justify-content-center cursor-pointer bg-transparent border-0 w-100 h-100",onClick:()=>$(r),children:_??s.jsx(i,{size:"20",className:"text-danger"})})})]},n)),I&&N==b.length&&s.jsxs("tr",{children:[x==null?void 0:x.map((r,n)=>s.jsx("td",{className:R("editableTd",{"text-center":r==null?void 0:r.center}),children:J(r)},n)),s.jsx("td",{className:"text-end",children:s.jsx("button",{type:"submit",className:"d-inline-flex align-items-center justify-content-center cursor-pointer bg-transparent border-0 w-100 h-100",children:ar??s.jsx(Fr,{size:"20",className:"text-success"})})}),s.jsx("td",{children:s.jsx("button",{type:"button",className:"d-inline-flex align-items-center justify-content-center cursor-pointer bg-transparent border-0 w-100 h-100",onClick:()=>p(r=>({...r,key:null})),children:_??s.jsx(i,{size:"20",className:"text-danger"})})})]})]})})]})}),((y==null?void 0:y.length)>0||(h==null?void 0:h.totalPages))&&s.jsxs("div",{className:"d-flex align-items-center justify-content-between flex-column-reverse flex-lg-row gap-3 m-3",children:[(y==null?void 0:y.length)>0&&s.jsxs("div",{className:"d-flex align-items-center gap-2",children:[s.jsx("small",{className:"flex-shrink-0",children:"Kayıt Sayısı"}),s.jsx(m.Select,{className:"shadow-none py-2",value:hr,onChange:r=>xr(r.target.value),children:y==null?void 0:y.map((r,n)=>s.jsx("option",{value:r==null?void 0:r.value,children:r==null?void 0:r.text},n))})]}),!!(h!=null&&h.totalPages)&&s.jsxs(B,{className:"ms-lg-auto mb-0",children:[s.jsx(B.Prev,{linkClassName:"shadow-none",disabled:(F||(h==null?void 0:h.currentPage))==1,onClick:()=>Y(+(F||(h==null?void 0:h.currentPage))-1)}),Cr({currentPage:+(F||(h==null?void 0:h.currentPage)),totalPages:h==null?void 0:h.totalPages}),s.jsx(B.Next,{linkClassName:"shadow-none",disabled:(F||(h==null?void 0:h.currentPage))==(h==null?void 0:h.totalPages),onClick:()=>Y(+(F||(h==null?void 0:h.currentPage))+1)})]})]})]})},Hr=()=>{const e=yr(),[C,x]=O.useState([]);return O.useEffect(()=>{x(Br)},[]),s.jsx("div",{className:"page-body",children:s.jsx(Ar,{fluid:"xl",children:s.jsx(rr,{className:"g-2",children:s.jsx(W,{children:s.jsx(P,{children:s.jsx(P.Body,{children:s.jsx($r,{title:"Table",className:"table-bordered",head:[{key:"isim",name:"İsim",sortable:!0},{key:"yas",name:"Yaş",sortable:!0,valueGetter:b=>`${b.yas} yaşında`},{key:"meslek",name:"Meslek",sortable:!0},{key:"email",name:"E-posta"},{key:"telefon",name:"Telefon"},{key:"sehir",name:"Şehir",sortable:!0}],searchable:!0,customFields:[{header:"Düzenle",icon:s.jsx(kr,{className:"icon"}),onClick:b=>{e(`/person/${b.id}`)}}],body:C.slice(0,10)})})})})})})})};export{Hr as default};
