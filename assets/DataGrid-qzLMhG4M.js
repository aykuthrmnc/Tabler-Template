import{r as O,R as br,j as n,E as Cr,c as U,I as Z}from"./index-CYvwjxWG.js";import{u as _,T as ur,F as yr,a as fr,b as L,S as jr,N as Nr,f as kr,P as v}from"./index-wowfQG1N.js";import{u as Sr,b as wr,F as P,a as R}from"./index-D5Rw-SRL.js";import{R as V}from"./Row-B7Pag5wZ.js";import{C as W}from"./Col-DASOejDl.js";import{D as G}from"./Dropdown-DHXnDiqa.js";import{p as Ir}from"./people-BRcELYq7.js";import{j as Rr}from"./jobs-kWXphZF5.js";import{C as Ar}from"./Container-CbLuQGB_.js";import"./Anchor-COzxH-sf.js";import"./useEventCallback-mBYiO_lq.js";import"./react-lifecycles-compat.es-BNmx4O_T.js";import"./DataKey-D-Rgyn--.js";const e={color:"var(--tblr-body-color)",placeholderColor:"var(--tblr-gray-400)",backgroundColor:"var(--tblr-bg-forms)",borderColor:"var(--tblr-border-color)",borderFocusColor:"#90b5e2",borderWidth:"var(--tblr-border-width, 1px)",fontSize:"14px",primaryColor:"var(--tblr-primary)",primaryActiveColor:"rgba(var(--tblr-primary-rgb), .8)",secondaryColor:"#ccc",thirdColor:"#fff",paddingLeft:"0.75rem",paddingY:"0.5625rem",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out"},F={input:p=>({...p,color:e.color,paddingBlock:0,margin:0}),placeholder:p=>({...p,color:e.placeholderColor}),valueContainer:p=>({...p,paddingInlineStart:e.paddingLeft,paddingBlock:e.paddingY}),control:(p,{isFocused:C})=>({...p,color:e.color,backgroundColor:e.backgroundColor,fontSize:e.fontSize,border:C?`${e.borderWidth} solid ${e.borderFocusColor}`:"none","&:hover":{borderColor:`${e.borderColor}`},borderRadius:"none",boxShadow:"none",height:"100%",transition:e.transition}),container:p=>({...p,height:"100%"}),menu:p=>({...p,zIndex:99,fontSize:e.fontSize,color:e.color,backgroundColor:e.backgroundColor,border:`${e.borderWidth} solid ${e.borderColor}`}),menuPortal:p=>({...p,zIndex:9999}),option:(p,{isDisabled:C,isFocused:y,isSelected:w})=>({...p,backgroundColor:C?"":w?e.primaryColor:y?e.primaryActiveColor:void 0,color:C?e.secondaryColor:w||y?e.thirdColor:void 0,cursor:C?"not-allowed":"default",":active":{...p[":active"],backgroundColor:C||w?void 0:e.primaryColor,color:e.thirdColor}}),singleValue:p=>({...p,color:e.color}),multiValue:p=>({...p,backgroundColor:"transparent"}),multiValueLabel:p=>({...p,color:e.thirdColor,backgroundColor:e.primaryColor}),multiValueRemove:p=>({...p,color:e.thirdColor,backgroundColor:e.primaryColor,":hover":{backgroundColor:e.primaryColor}})},Dr=({title:p,head:C,body:y,searchable:w,asyncSearchable:M,emptyMessage:g="Gösterilecek veri bulunmamaktadır.",isError:t=!1,error:i,loading:q=!1,pagination:h,sizePerPageList:A,hideNoDataIcon:m,noDataIcon:rr,deleteIcon:or,creatable:nr,editable:$,deletable:H,getValues:l,customFields:E})=>{const[c,J]=O.useState(""),[Y,sr]=_("search"),[lr,cr]=_("pageSize"),[T,K]=_("page"),{control:j,handleSubmit:N,reset:z,watch:Q}=Sr(),{fields:I,append:ar,update:k,remove:dr}=wr({control:j,name:"array"}),f=Q("array")||[],pr=O.useMemo(()=>{var r;return M?y:(r=[...y].filter(s=>Object.values(s).some(o=>{var a;return!br.isValidElement(o)&&((a=(o==null?void 0:o.value)??o)==null?void 0:a.toString().toLocaleLowerCase("TR").includes(Y.toLocaleLowerCase("TR")))})))==null?void 0:r.sort((s,o)=>{var D,B;const a=((D=s[c==null?void 0:c.key])==null?void 0:D.value)??s[c==null?void 0:c.key],u=((B=o[c==null?void 0:c.key])==null?void 0:B.value)??o[c==null?void 0:c.key];return(c==null?void 0:c.orderBy)==="asc"?a==null?void 0:a.toString().localeCompare(u,void 0,{numeric:!0}):(c==null?void 0:c.orderBy)==="desc"?u==null?void 0:u.toString().localeCompare(a,void 0,{numeric:!0}):1})},[y,M,Y,c]);O.useEffect(()=>{z({array:pr})},[y]),O.useEffect(()=>{l==null||l(f)},[I]);const S=r=>{const{array:s,...o}=r;typeof $=="function"&&($==null||$(o)),z(a=>({...a,key:null}))};//! COMPONENT BUILDER
const er=(r,s,o)=>{var u,D,B;const a=`array.${o}.${r==null?void 0:r.key}`;switch(r==null?void 0:r.type){case"ReactSelect":return n.jsx(R.ReactSelect,{name:a,placeholder:r==null?void 0:r.placeholder,classNameContainer:"position-absolute inset-0",options:r==null?void 0:r.options,onChangeValue:x=>{var d;const b=(d=r==null?void 0:r.onChange)==null?void 0:d.call(r,x,s);r!=null&&r.reset&&k(o,b),r!=null&&r.submit&&N(S)(),l==null||l(f)},formatOptionLabel:r==null?void 0:r.formatOptionLabel,isClearable:!1,baseStyles:F,menuPosition:"fixed",menuPlacement:"top",components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null},control:j},s.id);case"ReactSelectAsync":return n.jsx(R.ReactSelectAsync,{name:a,placeholder:r==null?void 0:r.placeholder,classNameContainer:"position-absolute inset-0",options:r==null?void 0:r.options,onChangeValue:x=>{var d;const b=(d=r==null?void 0:r.onChange)==null?void 0:d.call(r,x,s);r!=null&&r.reset&&k(o,b),r!=null&&r.submit&&N(S)(),l==null||l(f)},isClearable:!1,baseStyles:F,menuPosition:"fixed",menuPlacement:"top",components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null},control:j},s.id);case"ReactSelectCreatable":return n.jsx(R.ReactSelectCreatable,{name:a,placeholder:r==null?void 0:r.placeholder,classNameContainer:"position-absolute inset-0",options:r==null?void 0:r.options,onChangeValue:x=>{var d;const b=(d=r==null?void 0:r.onChange)==null?void 0:d.call(r,x,s);r!=null&&r.reset&&k(o,b),r!=null&&r.submit&&N(S)(),l==null||l(f)},isClearable:!1,baseStyles:F,menuPosition:"fixed",menuPlacement:"top",components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null},control:j},s.id);case"ReactSelectAsyncCreatable":return n.jsx(R.ReactSelectAsyncCreatable,{name:a,placeholder:r==null?void 0:r.placeholder,classNameContainer:"position-absolute inset-0",options:r==null?void 0:r.options,onChangeValue:x=>{var d;const b=(d=r==null?void 0:r.onChange)==null?void 0:d.call(r,x,s);r!=null&&r.reset&&k(o,b),r!=null&&r.submit&&N(S)(),l==null||l(f)},onCreateOption:async x=>{var d;const b=await((d=r==null?void 0:r.onCreateOption)==null?void 0:d.call(r,x));r!=null&&r.onCreateOption&&k(o,b)},isValidNewOption:r==null?void 0:r.isValidNewOption,isClearable:!1,baseStyles:F,menuPosition:"fixed",menuPlacement:"top",components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null},control:j},s.id);case"ReactSelectAsyncUrl":return n.jsx(R.ReactSelectAsyncUrl,{name:a,placeholder:r==null?void 0:r.placeholder,classNameContainer:"position-absolute inset-0",onChangeValue:x=>{var d;const b=(d=r==null?void 0:r.onChange)==null?void 0:d.call(r,x,s);r!=null&&r.reset&&k(o,b),r!=null&&r.submit&&N(S)(),l==null||l(f)},optionsUrl:r==null?void 0:r.optionsUrl,optionConfig:r==null?void 0:r.optionConfig,getOptionValues:r==null?void 0:r.getOptionValues,isValidOptionsUrl:r==null?void 0:r.isValidOptionsUrl,isClearable:!1,baseStyles:F,menuPosition:"fixed",menuPlacement:"top",components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null},control:j},s.id);case"NumericFormat":return n.jsx(R.NumericFormat,{name:a,placeholder:r==null?void 0:r.placeholder,className:"form-control-plaintext rounded-0 px-3 h-100",classNameContainer:"position-absolute inset-0",prefix:typeof(r==null?void 0:r.prefix)=="function"?(u=r==null?void 0:r.prefix)==null?void 0:u.call(r,s):r==null?void 0:r.prefix,allowNegative:r==null?void 0:r.allowNegative,decimalScale:r==null?void 0:r.decimalScale,onChangeValue:x=>{var d;const b=(d=r==null?void 0:r.onChange)==null?void 0:d.call(r,x,s);r!=null&&r.reset&&k(o,b),r!=null&&r.submit&&N(S)(),l==null||l(f)},control:j},s.id);case"PatternFormat":return n.jsx(R.PatternFormat,{name:a,placeholder:r==null?void 0:r.placeholder,className:"form-control-plaintext rounded-0 px-3 h-100",classNameContainer:"position-absolute inset-0",format:r==null?void 0:r.format,onChangeValue:x=>{var d;const b=(d=r==null?void 0:r.onChange)==null?void 0:d.call(r,x,s);r!=null&&r.reset&&k(o,b),r!=null&&r.submit&&N(S)(),l==null||l(f)},control:j},s.id);case"DateTime":return n.jsx(R.DateTime,{name:a,placeholder:r==null?void 0:r.placeholder,className:"form-control-plaintext rounded-0 px-3 h-100",classNameSubContainer:"h-100",classNameContainer:"position-absolute inset-0",onChangeValue:x=>{var d;const b=(d=r==null?void 0:r.onChange)==null?void 0:d.call(r,x,s);r!=null&&r.reset&&k(o,b),r!=null&&r.submit&&N(S)(),l==null||l(f)},control:j},s.id);case"PhoneInput":return n.jsx(R.PhoneInput,{name:a,placeholder:r==null?void 0:r.placeholder,classNameSubContainer:"h-100",classNameContainer:"position-absolute inset-0",onInput:()=>{l==null||l(f)},control:j},s.id);case"Dropdown":return n.jsxs(G,{align:"end",className:"position-absolute inset-0",children:[n.jsx(G.Toggle,{className:"w-100 h-100 shadow-none",children:((D=s==null?void 0:s[r==null?void 0:r.key])==null?void 0:D.label)??"Seçiniz"}),n.jsx(G.Menu,{className:"w-100",children:(B=r==null?void 0:r.options)==null?void 0:B.map((x,b)=>n.jsx(G.Item,{onClick:()=>{var X;const d=(X=r==null?void 0:r.onChange)==null?void 0:X.call(r,x,s);r!=null&&r.reset&&k(o,d),r!=null&&r.submit&&N(S)(),l==null||l(f)},children:x==null?void 0:x.label},b))})]});default:return n.jsx(R.Control,{name:a,type:r==null?void 0:r.type,placeholder:r==null?void 0:r.placeholder,className:"form-control-plaintext rounded-0 px-3 h-100",classNameContainer:"position-absolute inset-0",onKeyDown:x=>{var b;if(["Enter","NumpadEnter"].includes(x.code)){const d=(b=r==null?void 0:r.onChange)==null?void 0:b.call(r,x.target.value,s);r!=null&&r.reset&&k(o,d),r!=null&&r.submit&&N(S)()}},onInput:()=>{l==null||l(f)},control:j},s.id)}};//! COMPONENT BUILDER END
//! PAGINATION
const hr=({currentPage:r,totalPages:s})=>s<7?[...Array(s)].map((o,a)=>a+1):r%5>=0&&r>4&&r+3<s?[1,null,r-1,r,r+1,null,s]:r%5>=0&&r>4&&r+3>=s?[1,null,s-4,s-3,s-2,s-1,s]:[1,2,3,4,5,null,s],xr=({currentPage:r,totalPages:s})=>{const o=hr({currentPage:r,totalPages:s});return o==null?void 0:o.map((a,u)=>a==null?n.jsx(v.Ellipsis,{linkClassName:"bg-transparent border-0",disabled:!0},u):n.jsx(v.Item,{onClick:()=>a!=r&&K(a),active:a==r,children:a},u))};//! PAGINATION END
//! DRAGGABLE
//! DRAGGABLE END
return n.jsxs(n.Fragment,{children:[n.jsxs(V,{className:"align-items-center justify-content-end mb-3 g-3",children:[p&&n.jsx(W,{className:"text-center text-sm-start",children:n.jsx("h4",{className:"mb-0",children:p})}),w&&!M&&n.jsx(W,{xs:"12",sm:"6",lg:"3",children:n.jsx(P.Control,{value:Y,onChange:r=>sr(r.target.value),type:"search",placeholder:"Arama",className:"shadow-none"})}),nr&&n.jsx(W,{xs:"12",sm:"auto",children:n.jsx(Cr,{className:"w-100",onClick:()=>{ar(C.reduce((r,s)=>({...r,[s==null?void 0:s.key]:""}),{}))},children:"Ekle"})})]}),n.jsx("form",{onSubmit:N(S),autoComplete:"off",children:n.jsxs(ur,{responsive:!0,id:"dynagrid",className:"text-nowrap",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[C==null?void 0:C.map((r,s)=>n.jsx("th",{style:{width:r==null?void 0:r.width},children:n.jsxs("div",{className:U("d-flex align-items-center gap-2 user-select-none",{"justify-content-center":r==null?void 0:r.center}),onClick:()=>{r!=null&&r.sortable&&((c==null?void 0:c.key)===(r==null?void 0:r.key)?J({key:r==null?void 0:r.key,orderBy:c.orderBy==="asc"?"desc":c.orderBy==="desc"?"":"asc"}):J({key:r==null?void 0:r.key,orderBy:"asc"}),z(o=>({...o})))},children:[r==null?void 0:r.name,(r==null?void 0:r.sortable)&&n.jsx("span",{className:"d-flex",children:(c==null?void 0:c.key)===(r==null?void 0:r.key)?(c==null?void 0:c.orderBy)==="desc"?n.jsx(yr,{className:"text-primary"}):(c==null?void 0:c.orderBy)==="asc"?n.jsx(fr,{className:"text-primary"}):n.jsx(L,{}):n.jsx(L,{})})]})},s)),E==null?void 0:E.map((r,s)=>n.jsx("th",{style:{width:"1%",minWidth:"1%"},children:n.jsx("div",{className:U("d-flex align-items-center gap-2 user-select-none",{"justify-content-center":r==null?void 0:r.center}),children:r==null?void 0:r.header})},s)),H&&n.jsx("th",{style:{width:"1%",minWidth:"1%"}})]})}),n.jsx("tbody",{className:"align-middle position-relative",children:q?n.jsx("tr",{children:n.jsx("td",{colSpan:"100%",className:"border-0",children:n.jsx("div",{className:"text-center my-5",children:n.jsx(jr,{animation:"border",variant:"primary"})})})}):t||!q&&(I==null?void 0:I.length)===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"100%",children:n.jsxs("div",{className:"d-flex flex-column align-items-center",children:[n.jsx("div",{className:"w-25",children:!m&&(rr??n.jsx(Nr,{}))}),n.jsx("h3",{className:"page-subtitle text-center",children:(I==null?void 0:I.length)===0?g:i??"Bir hata oluştu..."})]})})}):I==null?void 0:I.map((r,s)=>n.jsxs("tr",{children:[C==null?void 0:C.map((o,a)=>{var u;return n.jsx("td",{className:U("editableTd",{"text-center":o==null?void 0:o.center}),children:o!=null&&o.valueGetter?(u=o==null?void 0:o.valueGetter)==null?void 0:u.call(o,Q(`array.${s}`)):er(o,r,s)},a)}),E==null?void 0:E.map((o,a)=>{var u,D;return n.jsx("td",{children:n.jsx("button",{type:"button",className:U("d-inline-flex align-items-center justify-content-center cursor-pointer bg-transparent border-0",o==null?void 0:o.className),onClick:()=>{var B;return(B=o==null?void 0:o.onClick)==null?void 0:B.call(o,Q(`array.${s}`))},children:(typeof(o==null?void 0:o.icon)=="function"?(u=o==null?void 0:o.icon)==null?void 0:u.call(o,r):o==null?void 0:o.icon)??(typeof(o==null?void 0:o.text)=="function"?(D=o==null?void 0:o.text)==null?void 0:D.call(o,r):o==null?void 0:o.text)})},a)}),H&&n.jsx("td",{children:n.jsx("button",{type:"button",className:"d-inline-flex align-items-center justify-content-center cursor-pointer bg-transparent border-0",onClick:()=>dr(s),children:or??n.jsx(kr,{size:"20",className:"text-danger"})})})]},s))})]})}),(Array.isArray(A)||(h==null?void 0:h.totalPages))&&n.jsxs("div",{className:"d-flex align-items-center justify-content-between flex-column-reverse flex-lg-row gap-3 m-3",children:[Array.isArray(A)&&(A==null?void 0:A.length)>0&&n.jsxs("div",{className:"d-flex align-items-center gap-2",children:[n.jsx("small",{className:"flex-shrink-0",children:"Kayıt Sayısı"}),n.jsx(P.Select,{className:"shadow-none py-2",value:lr,onChange:r=>cr(r.target.value),children:A==null?void 0:A.map((r,s)=>n.jsx("option",{value:r==null?void 0:r.value,children:r==null?void 0:r.text},s))})]}),(h==null?void 0:h.totalPages)&&n.jsxs(v,{className:"ms-lg-auto mb-0",children:[n.jsx(v.Prev,{linkClassName:"shadow-none",disabled:(T||(h==null?void 0:h.currentPage))==1,onClick:()=>K(+(T||(h==null?void 0:h.currentPage))-1)}),xr({currentPage:+(T||(h==null?void 0:h.currentPage)),totalPages:h==null?void 0:h.totalPages}),n.jsx(v.Next,{linkClassName:"shadow-none",disabled:(T||(h==null?void 0:h.currentPage))==(h==null?void 0:h.totalPages),onClick:()=>K(+(T||(h==null?void 0:h.currentPage))+1)})]})]})]})},zr=()=>{const[p,C]=O.useState([]);return O.useEffect(()=>{var y;C((y=Ir)==null?void 0:y.map(w=>({...w,meslek:w.meslek?{label:w.meslek,value:w.meslek}:null})))},[]),n.jsx("div",{className:"page-body",children:n.jsx(Ar,{fluid:"xl",children:n.jsx(V,{className:"g-2",children:n.jsx(W,{children:n.jsx(Z,{children:n.jsx(Z.Body,{children:n.jsx(Dr,{title:"DataGrid",head:[{key:"isim",name:"İsim",placeholder:"İsim"},{key:"yas",name:"Yaş",type:"PatternFormat",format:"## yaşında",placeholder:"Yaş"},{key:"meslek",name:"Meslek",type:"ReactSelect",options:Rr},{key:"email",name:"E-posta",placeholder:"E-posta"},{key:"telefon",name:"Telefon",placeholder:"Telefon",type:"PhoneInput"},{key:"sehir",name:"Şehir",placeholder:"Şehir"}],searchable:!0,creatable:!0,body:p.slice(0,10),getValues:y=>{console.log(y)}})})})})})})})};export{zr as default};
